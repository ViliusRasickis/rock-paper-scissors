<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock-paper-scissors</title>
    <h1>This is a classic rock-paper-scissors game</h1>
    <h2>At the moment this is a console based game, but I promise to return and update it, once I learn more :)</h2>
    <script>
    console.log("hello world!");


    function game() {
        let userScore = 0;
        let computerScore = 0;
        let computerSelection = computerPlay();
        let amountOfGames = prompt("How many games you would like to play?");
        
        for (let i = 0; i < amountOfGames; i++) {

            let playerSelection = "";
            choiceCorrect = true;
            while (choiceCorrect === true) {
                playerSelection = prompt("Choose your destiny! Rock Paper Scissors");
                if (playerSelection === null) {
                    console.log("Sorry to see you go.");
                    console.log("Game over. Final result. " + "User: " + userScore + ', ' + "Computer: " + computerScore);
                    return;
                } else {
                    playerSelection = playerSelection.toLowerCase();
                }

                if(playerSelection === "rock" || playerSelection === "paper" || playerSelection === "scissors") {
                    choiceCorrect = false;
                } else {
                    alert("You've made an incorrect choice, please choose from Rock Paper Scissors.")
                }
            }

          playsRPS(playerSelection, computerPlay());
            function playsRPS(playerSelection, computerSelection) {
                if (playerSelection === "paper" && computerSelection === "scissors") {
                    console.log("Sorry you lost!");
                    computerScore++;
                } else if (playerSelection === "paper" && computerSelection === "rock") {
                    console.log("Gratz, winner!");
                    userScore++;
                } else if (playerSelection === "rock" && computerSelection === "paper") {
                    console.log("Sorry you lost!");
                    computerScore++;
                } else if (playerSelection === "rock" && computerSelection === "scissors") {
                    console.log("Gratz, winner!");
                    userScore++;
                } else if (playerSelection === "scissors" && computerSelection === "rock") {
                    console.log("Sorry you lost!");
                    computerScore++;
                } else if (playerSelection === "scissors" && computerSelection === "paper") {
                    console.log("Gratz, winner!");
                    userScore++;
                } else {
                    console.log("Tie!");
                }
                console.log("User: " + userScore + ', ' + "Computer: " + computerScore);
            }        
        }
        console.log("The final score is - User: " + userScore + ', ' + "Computer: " + computerScore);
    }
    function computerPlay() {
        let result = Math.floor(Math.random() * 3);
        if (result === 1) {
            return "rock";
        } else if (result === 2) {
            return "paper";
        } else {
            return "scissors";
        }
    }
    game();
    
    </script>
</head>
<body>
    
</body>
</html>